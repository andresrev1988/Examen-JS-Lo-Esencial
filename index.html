<!DOCTYPE html>
<html>
<head>
	<meta content="text/html"; charset="UTF-8" />
	<title>Notas - Escuela</title>	
</head>

<body>
<header>
	<h1>Notas del Curso</h1>	
</header>

<p id="objetos"></p>
<p id="calcular_promedio"></p>
<p id="estudiante_mayor"></p>
<p id="estudiante_menor"></p>

<button onclick="mostrarObjeto()"> Mostrar Objetos JSON</button>
<button onclick="mostrarPromedio()">Calcular Promedio</button>
<button onclick="mostrarMayor()">Calcular Promedio</button>
<button onclick="mostrarMenor()">Calcular Promedio</button>

</body>
<script type="text/javascript" source="js/funciones.js">
 var notas_curso = [

    {
        "codigo": "001",
        "nombre": "ANDRÉS REVELO",
        "nota": 100
    } ,
    {
        "codigo": "002",
        "nombre": "JUAN BALAREZO",
        "nota": 70
    } ,  
    {
        "codigo": "003",
        "nombre": "ANDRÉS REVELO",
        "nota": 100
    } ,  
    {
        "codigo": "004",
        "nombre": "MARIO LOPEZ",
        "nota": 90
    } ,  
    {
        "codigo": "005",
        "nombre": "ROSSANA SERRANO",
        "nota": 88
    } ,  
    {
        "codigo": "006",
        "nombre": "FRANCISCO CORTEZ",
        "nota": 55
    } ,  
    {
        "codigo": "007",
        "nombre": "MARIO MALDONADO",
        "nota": 93
    } ,  
    {
        "codigo": "008",
        "nombre": "LORENA MANCERO",
        "nota": 76
    } ,  
    {
        "codigo": "009",
        "nombre": "CESAR SALINAS",
        "nota": 45
    } ,  
    {
        "codigo": "010",
        "nombre": "JUAN CASTILLO",
        "nota": 80
    }  
];

function leerJSON(id,json) {
	var out = "-----------Estudiantes-----------<br>";	
	try {
		for (var i = 0; i < json.length; i++) {
			out += "Código:" + json[i].codigo + "-" + "Nombre:" + json[i].nombre + "-" + "Nota:" + json[i].nota + "<br>";
		}
		document.getElementById(id).innerHTML = out;	 
	} catch (error) {
		alert("Existe un Error" + " - " + error.message);
	}
}

function calcularPromedio(id,json) {

    var out = "Total Promedio: ";
    var totalPromedio = 0.0;
    for (var i = 0; i < json.length; i++) {
        totalPromedio += json[i].nota;
    }
    totalPromedio=totalPromedio/i;
    document.getElementById(id).innerHTML = out+totalPromedio;	 
}



function mostrarPromedio(){
    calcularPromedio("calcular_promedio",notas_curso);
}
function mostrarObjeto(){
    leerJSON("objetos",notas_curso);
}

</script>
</html>